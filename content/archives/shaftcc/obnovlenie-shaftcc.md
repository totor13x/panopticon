---
title: Обновление Shaft.CC
date: 2021-5-11
---

Доброго времени суток, странник.

Спустя 1,5 года после начала разработки новой системы для Шафта, мы подходим к релизу главного обновления. Коротко про историю ниже:

> Идея обновить сервера пришла мне в конце 2019, так как логика взаимодействия серверов с каждым миниобновлением усложнялась. Подробнее о начале разработки можно прочитать [здесь](__GHOST_URL__/k-novomu-ghodu-priedstavliaietsia/).

> При всем моем уважении к прошлому Шафта, его обновление было вопросом времени. Во время разработки СВРП я столкнулся с реальным положением дел - я очень много времени тратил на банальную логику получения данных. Сама концепция АПИ к тому моменту уже считалась старой. Да, она, можно сказать, проверена опытом, но постоянные костыли в системе привели ее к сложному и забитому куску говна.

> Сам движок, на котором сейчас стоит Шафт, был написан мною для моего родного детища еще в 2015 году. Он, конечно, был подвергнут сильным модификациям и улучшениям, но кое-где еще сохранились оригинальные текста логики.

> Как вообще получилось, что штука, которая была написана еще в 2015 году, до сих пор осталась живой - отдельная история. Однако после того как Шафт перешел в мои руки, я уже не мог столько времени тратить на программирование - так что в совокупности эти изменения и привели к мысли об обновлении.

Что именно приносит обновление: с технической стороны для реализации какой-либо логики уйдет меньше времени, плюс фреймворков и технологического стека.

Однако не все функции были реализованы. На всё времени мне одному не хватает, поэтому пришлось расставлять приоритеты - то важно, это менее важно.

**Список выключенных функций**: удаление фото, очистка слота трека, покупка трека, все взаимодействия с ТТС инвентарем. Пришлось выключить, просто учитывайте.

**Список отсутствующих функций**: бот дискорда, верификация в дискорде, загрузка фотографий, покупка тега, загрузочный экран, выставление бодигрупп, онлайн серверов, передача поинтов, лимиты, раздачник, уведомления при входе и выходе с сервера. Возможно что-то еще было пропущено, но в целом примерно так.

Также будет пропущен набор в администрацию, просто потому что.

**Было добавлено**: переработаны все скрипты - полностью с нуля написано, добавлены трейды, изменен визуал для предметов поинтшопа, новая система групп, новая архитектура для серверов и многое-многое другое. На самом деле изменений было так много, что проще перечитать прошлые посты по "итогам месяца", чем перечислять все здесь.

Подробнее об обновлении
-----------------------

Текст ниже содержит мой план по развитию системы Шафта на 2021 год, и все зависит от многочисленных положительных факторов. Кому интересно, можно почитать.

Вообще, я полагаю, что система не будет сходить с ума, так как благодаря тестерам (особенно **Russian Man**, который ГА мардера) она проверена на отказоустойчивость. Тем не менее исключать падения нельзя никак.

В целом сейчас в планах провести масштабное тестирование системы с 24.05.2021 по 30.05.2021. Тут такая ситуация - совместимости данных между системами нет. Ну то есть я написал адаптеры из старой базы в новую, но из новой базы в старую данные не конвертнуть, поэтому в этот период все данные будут, по своей сути, временными.

Будем плясать от этих тестов, собственно. Буду рассматривать прежде всего положительный исход. После проведения тестов произойдет откат системы на 24 число и, если тесты покажут хороший результат, новая система остается на постоянке.

После этого я начну допиливать недостающий функционал, о котором упомянул ранее и в течении года планирую разобраться с этим. Приоритет пока не расставлен, да и наша доска задач завалена разным хламом, надо его почистить.

В любом случае после обновления я возьму небольшой отпуск, чтобы разобрать доску, собрать весь старый код серверов в одну кучу и распланировать работы на ближайшие месяцы.

Сразу хочу отметить, что основным вектором развития, скорее всего, будет RolePlay и мобильное приложение, то есть социальное. Первым делом будет развиваться YandereRP - спасибо, что Тода до сих пор с нами. Мобильное приложение в меньшем приоритете - так как для него нужно подготовить основу Шафта.

Про общение: с некоторых пор начнется жесткая политика относительно грубых высказываний, оскорблений. Будет переработан механизм наказаний и тому подобное, проще говоря, это все скучно.

Напоследок хочу извиниться, так как это обновление могло бы выйти и раньше (примерно на полгода раньше), но мне помешал неправильный стек технологий в самом начале, из-за чего пришлось все поменять и начать работу с самого начала. Вообще нет никаких гарантий, что эта система взлетит адекватно, но вроде проверили-перепроверили, тестили-перетестили и по идее все должно быть **ОК**.

_На сегодня это все - оставайтесь на связи, не болейте. <3_
